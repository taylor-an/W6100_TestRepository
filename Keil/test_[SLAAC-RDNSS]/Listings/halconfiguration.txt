; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--c99 --list --debug -c --asm --interleave -o.\objects\halconfiguration.o --asm_dir=.\Listings\ --list_dir=.\Listings\ --depend=.\objects\halconfiguration.d --cpu=Cortex-M4.fp --apcs=interwork --diag_suppress=9931 -I..\test_[SLAAC-RDNSS] -I..\..\Libraries\CMSIS\Device\ST\STM32F4xx\Include -I..\..\Libraries\CMSIS\Include -I..\..\Libraries\io6Library\Application\loopback -I..\..\Libraries\io6Library\Ethernet -I..\..\Libraries\io6Library\Ethernet\W6100 -I..\..\Libraries\io6Library\Internet\DHCP -I..\..\Libraries\io6Library\Internet\DNS -I..\..\Libraries\STM32F4xx_StdPeriph_Driver\inc -I..\..\Libraries\io6Library\Internet\DHCP6 -I.\RTE\_Target_1 -Ic:\Keil_v5\ARM\PACK\Keil\STM32F4xx_DFP\2.13.0\Drivers\CMSIS\Device\ST\STM32F4xx\Include -Ic:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=525 -DSTM32F407xx -DSTM32F4XX -DUSE_STDPERIPH_DRIVER --omf_browse=.\objects\halconfiguration.crf halConfiguration.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  delay_ms PROC
;;;368    
;;;369    void delay_ms(uint32_t cnt)
000000  49f6              LDR      r1,|L1.988|
;;;370    {
;;;371        TimingDelay = cnt;
000002  6048              STR      r0,[r1,#4]  ; TimingDelay
                  |L1.4|
;;;372        while(TimingDelay != 0);
000004  6848              LDR      r0,[r1,#4]  ; TimingDelay
000006  2800              CMP      r0,#0
000008  d1fc              BNE      |L1.4|
;;;373    }
00000a  4770              BX       lr
;;;374    
                          ENDP

                  Interface_init PROC
;;;6      
;;;7      void Interface_init(void)
00000c  e92d4ff0          PUSH     {r4-r11,lr}
;;;8      {
000010  b099              SUB      sp,sp,#0x64
;;;9          GPIO_InitTypeDef GPIO_InitStructure;
;;;10         delay_ms(60); // rst signal wait...
000012  203c              MOVS     r0,#0x3c
000014  f7fffffe          BL       delay_ms
;;;11         if ( GPIO_ReadOutputDataBit(SPI_ENABLE_Port, SPI_ENABLE_Pin) == Bit_RESET )  // SPI Mode
000018  f8dfb3c4          LDR      r11,|L1.992|
00001c  f44f4180          MOV      r1,#0x4000
000020  4658              MOV      r0,r11
000022  f7fffffe          BL       GPIO_ReadOutputDataBit
;;;12         {
;;;13             SPI_InitTypeDef SPI_InitStruct;
;;;14             /*
;;;15             *  Open_SPIx_SCK -> PB3 , Open_SPIx_MOSI -> PB4, Open_SPIx_SCK -> MISO
;;;16             */
;;;17             
;;;18             RCC_AHB1PeriphClockCmd(SPI_RCC_AHBPeriph,ENABLE);
000026  2601              MOVS     r6,#1
000028  2400              MOVS     r4,#0                 ;11
;;;19             
;;;20     				//printf("spi mode \r\n");
;;;21     			
;;;22     				GPIO_PinAFConfig(Open_SPIx_SCK_GPIO_PORT,  Open_SPIx_SCK_SOURCE,  Open_SPIx_MOSI_AF);
00002a  2503              MOVS     r5,#3
;;;23             GPIO_PinAFConfig(Open_SPIx_MISO_GPIO_PORT, Open_SPIx_MISO_SOURCE, Open_SPIx_MOSI_AF);
;;;24             GPIO_PinAFConfig(Open_SPIx_MOSI_GPIO_PORT, Open_SPIx_MOSI_SOURCE, Open_SPIx_MOSI_AF);
;;;25     
;;;26     				GPIO_InitStructure.GPIO_Pin   = Open_SPIx_SCK_PIN | Open_SPIx_MISO_PIN | Open_SPIx_MOSI_PIN;
;;;27     				GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
;;;28             GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
;;;29             GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_DOWN;
;;;30     				GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_AF;
;;;31     				GPIO_Init(Open_SPIx_SCK_GPIO_PORT, &GPIO_InitStructure);
;;;32     
;;;33             RCC_AHB1PeriphClockCmd(RCC_GPIO_CS,ENABLE);
;;;34     				
;;;35     				GPIO_InitStructure.GPIO_Pin   = GPIO_PIN_CS;
;;;36     				GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
;;;37     				GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
;;;38     				GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;  
;;;39             GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_OUT;
;;;40     				GPIO_Init(GPIO_CS_PORT, &GPIO_InitStructure);
00002c  4fed              LDR      r7,|L1.996|
00002e  f04f0802          MOV      r8,#2                 ;29
000032  f04f0980          MOV      r9,#0x80              ;35
;;;41     				
;;;42     				GPIO_SetBits(GPIO_CS_PORT,GPIO_PIN_CS);
;;;43     
;;;44             RCC_APB2PeriphClockCmd(Open_RCC_APB2Periph_SPIx,ENABLE);
000036  f44f5a80          MOV      r10,#0x1000
00003a  2800              CMP      r0,#0                 ;11
;;;45     
;;;46             SPI_I2S_DeInit(Open_SPIx);
;;;47             SPI_InitStruct.SPI_Direction         = SPI_Direction_2Lines_FullDuplex;
;;;48             SPI_InitStruct.SPI_Mode              = SPI_Mode_Master;
;;;49             SPI_InitStruct.SPI_DataSize          = SPI_DataSize_8b; 
;;;50            // SPI_InitStruct.SPI_CPOL              = SPI_CPOL_High;
;;;51     				SPI_InitStruct.SPI_CPOL              = SPI_CPOL_Low;
;;;52             //SPI_InitStruct.SPI_CPHA              = SPI_CPHA_2Edge;
;;;53     				SPI_InitStruct.SPI_CPHA              = SPI_CPHA_1Edge;
;;;54             SPI_InitStruct.SPI_NSS               = SPI_NSS_Soft ;
;;;55             SPI_InitStruct.SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_8;
;;;56             SPI_InitStruct.SPI_FirstBit          = SPI_FirstBit_MSB;
;;;57             SPI_InitStruct.SPI_CRCPolynomial     = 7;
;;;58             SPI_Init(Open_SPIx, &SPI_InitStruct);
;;;59             SPI_Cmd(Open_SPIx, ENABLE);        
;;;60         }
;;;61         else
;;;62         {
;;;63     				FSMC_NORSRAMInitTypeDef  FSMC_NORSRAMInitStructure;
;;;64             FSMC_NORSRAMTimingInitTypeDef  p;
;;;65             /* Enable GPIOs clock */
;;;66             RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOD | RCC_AHB1Periph_GPIOE |RCC_AHB1Periph_GPIOF| RCC_AHB1Periph_GPIOG, ENABLE);
00003c  4631              MOV      r1,r6
00003e  d07d              BEQ      |L1.316|
000040  2078              MOVS     r0,#0x78
000042  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;67     
;;;68             /* Enable FSMC clock */
;;;69             RCC_AHB3PeriphClockCmd(RCC_AHB3Periph_FSMC, ENABLE);
000046  2101              MOVS     r1,#1
000048  4608              MOV      r0,r1
00004a  f7fffffe          BL       RCC_AHB3PeriphClockCmd
;;;70     				
;;;71     				//printf("indirect mode \r\n");
;;;72     			
;;;73             /* GPIOD configuration */
;;;74             GPIO_PinAFConfig(GPIOD, GPIO_PinSource0, GPIO_AF_FSMC);
00004e  220c              MOVS     r2,#0xc
000050  2100              MOVS     r1,#0
000052  4638              MOV      r0,r7
000054  f7fffffe          BL       GPIO_PinAFConfig
;;;75             GPIO_PinAFConfig(GPIOD, GPIO_PinSource1, GPIO_AF_FSMC);
000058  220c              MOVS     r2,#0xc
00005a  2101              MOVS     r1,#1
00005c  4638              MOV      r0,r7
00005e  f7fffffe          BL       GPIO_PinAFConfig
;;;76             GPIO_PinAFConfig(GPIOD, GPIO_PinSource4, GPIO_AF_FSMC);
000062  220c              MOVS     r2,#0xc
000064  2104              MOVS     r1,#4
000066  4638              MOV      r0,r7
000068  f7fffffe          BL       GPIO_PinAFConfig
;;;77             GPIO_PinAFConfig(GPIOD, GPIO_PinSource5, GPIO_AF_FSMC);
00006c  220c              MOVS     r2,#0xc
00006e  2105              MOVS     r1,#5
000070  4638              MOV      r0,r7
000072  f7fffffe          BL       GPIO_PinAFConfig
;;;78             GPIO_PinAFConfig(GPIOD, GPIO_PinSource14, GPIO_AF_FSMC);
000076  220c              MOVS     r2,#0xc
000078  210e              MOVS     r1,#0xe
00007a  4638              MOV      r0,r7
00007c  f7fffffe          BL       GPIO_PinAFConfig
;;;79             GPIO_PinAFConfig(GPIOD, GPIO_PinSource15, GPIO_AF_FSMC);
000080  220c              MOVS     r2,#0xc
000082  210f              MOVS     r1,#0xf
000084  4638              MOV      r0,r7
000086  f7fffffe          BL       GPIO_PinAFConfig
;;;80     
;;;81             GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0 | GPIO_Pin_1 | GPIO_Pin_4| GPIO_Pin_5 | GPIO_Pin_14 | GPIO_Pin_15;
;;;82             GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
00008a  f88d8060          STRB     r8,[sp,#0x60]
00008e  f24c0033          MOV      r0,#0xc033            ;81
;;;83             GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
000092  f88d5061          STRB     r5,[sp,#0x61]
000096  9017              STR      r0,[sp,#0x5c]         ;82
;;;84             GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
000098  f88d4062          STRB     r4,[sp,#0x62]
;;;85             //GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
;;;86             GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;
00009c  f88d6063          STRB     r6,[sp,#0x63]
;;;87     
;;;88             GPIO_Init(GPIOD, &GPIO_InitStructure);
0000a0  a917              ADD      r1,sp,#0x5c
0000a2  4638              MOV      r0,r7
0000a4  f7fffffe          BL       GPIO_Init
;;;89     
;;;90             /* GPIOE configuration */
;;;91             GPIO_PinAFConfig(GPIOE, GPIO_PinSource7 , GPIO_AF_FSMC);
0000a8  4ecf              LDR      r6,|L1.1000|
0000aa  220c              MOVS     r2,#0xc
0000ac  2107              MOVS     r1,#7
0000ae  4630              MOV      r0,r6
0000b0  f7fffffe          BL       GPIO_PinAFConfig
;;;92             GPIO_PinAFConfig(GPIOE, GPIO_PinSource8 , GPIO_AF_FSMC);
0000b4  220c              MOVS     r2,#0xc
0000b6  2108              MOVS     r1,#8
0000b8  4630              MOV      r0,r6
0000ba  f7fffffe          BL       GPIO_PinAFConfig
;;;93             GPIO_PinAFConfig(GPIOE, GPIO_PinSource9 , GPIO_AF_FSMC);
0000be  220c              MOVS     r2,#0xc
0000c0  2109              MOVS     r1,#9
0000c2  4630              MOV      r0,r6
0000c4  f7fffffe          BL       GPIO_PinAFConfig
;;;94             GPIO_PinAFConfig(GPIOE, GPIO_PinSource10 , GPIO_AF_FSMC);
0000c8  220c              MOVS     r2,#0xc
0000ca  210a              MOVS     r1,#0xa
0000cc  4630              MOV      r0,r6
0000ce  f7fffffe          BL       GPIO_PinAFConfig
;;;95     
;;;96             GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7 | GPIO_Pin_8  | GPIO_Pin_9  | GPIO_Pin_10 ;
0000d2  f44f60f0          MOV      r0,#0x780
;;;97     
;;;98             GPIO_Init(GPIOE, &GPIO_InitStructure);
0000d6  9017              STR      r0,[sp,#0x5c]
0000d8  a917              ADD      r1,sp,#0x5c
0000da  4630              MOV      r0,r6
0000dc  f7fffffe          BL       GPIO_Init
;;;99     
;;;100            /* GPIOF configuration */
;;;101            GPIO_PinAFConfig(GPIOF, GPIO_PinSource0 , GPIO_AF_FSMC);
0000e0  220c              MOVS     r2,#0xc
0000e2  2100              MOVS     r1,#0
0000e4  465e              MOV      r6,r11
0000e6  4658              MOV      r0,r11
0000e8  f7fffffe          BL       GPIO_PinAFConfig
;;;102            GPIO_PinAFConfig(GPIOF, GPIO_PinSource1 , GPIO_AF_FSMC);
0000ec  220c              MOVS     r2,#0xc
0000ee  2101              MOVS     r1,#1
0000f0  4630              MOV      r0,r6
0000f2  f7fffffe          BL       GPIO_PinAFConfig
;;;103            //GPIO_PinAFConfig(GPIOF, GPIO_PinSource2 , GPIO_AF_FSMC);
;;;104            GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0  | GPIO_Pin_1  ;//| GPIO_Pin_2 ;
;;;105            GPIO_Init(GPIOF, &GPIO_InitStructure);
0000f6  a917              ADD      r1,sp,#0x5c
0000f8  4630              MOV      r0,r6
0000fa  9517              STR      r5,[sp,#0x5c]
0000fc  f7fffffe          BL       GPIO_Init
;;;106    
;;;107            /* NOE and NWE configuration */  
;;;108            GPIO_PinAFConfig(GPIOD, GPIO_PinSource4, GPIO_AF_FSMC);
000100  220c              MOVS     r2,#0xc
000102  2104              MOVS     r1,#4
000104  4638              MOV      r0,r7
000106  f7fffffe          BL       GPIO_PinAFConfig
;;;109            GPIO_PinAFConfig(GPIOD, GPIO_PinSource5, GPIO_AF_FSMC);
00010a  220c              MOVS     r2,#0xc
00010c  2105              MOVS     r1,#5
00010e  4638              MOV      r0,r7
000110  f7fffffe          BL       GPIO_PinAFConfig
;;;110    
;;;111            GPIO_InitStructure.GPIO_Pin = GPIO_Pin_4 |GPIO_Pin_5;
000114  2030              MOVS     r0,#0x30
;;;112            GPIO_Init(GPIOD, &GPIO_InitStructure);
000116  9017              STR      r0,[sp,#0x5c]
000118  a917              ADD      r1,sp,#0x5c
00011a  4638              MOV      r0,r7
00011c  f7fffffe          BL       GPIO_Init
;;;113    
;;;114            /* NE1 configuration */
;;;115            GPIO_PinAFConfig(GPIOD, GPIO_PinSource7, GPIO_AF_FSMC);
000120  220c              MOVS     r2,#0xc
000122  2107              MOVS     r1,#7
000124  4638              MOV      r0,r7
000126  f7fffffe          BL       GPIO_PinAFConfig
;;;116            GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7; 
;;;117            GPIO_Init(GPIOD, &GPIO_InitStructure);
00012a  a917              ADD      r1,sp,#0x5c
00012c  4638              MOV      r0,r7
00012e  f8cd905c          STR      r9,[sp,#0x5c]
000132  f7fffffe          BL       GPIO_Init
;;;118    
;;;119            /* NBL0, NBL1 configuration */
;;;120    //        GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0 | GPIO_Pin_1; 
;;;121    //        GPIO_Init(GPIOE, &GPIO_InitStructure); 
;;;122    				
;;;123    				FSMC_NORSRAMCmd(FSMC_Bank1_NORSRAM1, DISABLE);
000136  2100              MOVS     r1,#0
000138  4608              MOV      r0,r1
00013a  e000              B        |L1.318|
                  |L1.316|
00013c  e026              B        |L1.396|
                  |L1.318|
00013e  f7fffffe          BL       FSMC_NORSRAMCmd
;;;124    
;;;125            /*-- FSMC Configuration ------------------------------------------------------*/
;;;126            p.FSMC_AddressSetupTime = 0x5;
000142  2005              MOVS     r0,#5
000144  e9cd0401          STRD     r0,r4,[sp,#4]
;;;127    				//p.FSMC_AddressSetupTime = 0xc;
;;;128            p.FSMC_AddressHoldTime = 0x0;
;;;129            p.FSMC_DataSetupTime = 0x0a;
000148  200a              MOVS     r0,#0xa
00014a  e9cd0403          STRD     r0,r4,[sp,#0xc]
;;;130    				//p.FSMC_DataSetupTime = 0x20;
;;;131            p.FSMC_BusTurnAroundDuration = 0x0;
;;;132            p.FSMC_CLKDivision = 0x0;
;;;133            p.FSMC_DataLatency = 0x0;
;;;134            p.FSMC_AccessMode = FSMC_AccessMode_A;
;;;135    
;;;136            FSMC_NORSRAMInitStructure.FSMC_Bank = FSMC_Bank1_NORSRAM1;
;;;137            FSMC_NORSRAMInitStructure.FSMC_DataAddressMux = FSMC_DataAddressMux_Disable;
;;;138            FSMC_NORSRAMInitStructure.FSMC_MemoryType = FSMC_MemoryType_SRAM;
00014e  9409              STR      r4,[sp,#0x24]
000150  9408              STR      r4,[sp,#0x20]         ;137
;;;139            FSMC_NORSRAMInitStructure.FSMC_MemoryDataWidth = FSMC_MemoryDataWidth_8b;
;;;140            FSMC_NORSRAMInitStructure.FSMC_BurstAccessMode = FSMC_BurstAccessMode_Disable;
;;;141            FSMC_NORSRAMInitStructure.FSMC_WaitSignalPolarity = FSMC_WaitSignalPolarity_Low;
;;;142            FSMC_NORSRAMInitStructure.FSMC_WrapMode = FSMC_WrapMode_Disable;
000152  940e              STR      r4,[sp,#0x38]
;;;143            FSMC_NORSRAMInitStructure.FSMC_WaitSignalActive = FSMC_WaitSignalActive_BeforeWaitState;
;;;144            FSMC_NORSRAMInitStructure.FSMC_WriteOperation = FSMC_WriteOperation_Enable;
;;;145            FSMC_NORSRAMInitStructure.FSMC_WaitSignal = FSMC_WaitSignal_Disable;
;;;146            FSMC_NORSRAMInitStructure.FSMC_ExtendedMode = FSMC_ExtendedMode_Enable;
000154  f44f4080          MOV      r0,#0x4000
000158  9406              STR      r4,[sp,#0x18]         ;134
00015a  9407              STR      r4,[sp,#0x1c]         ;136
00015c  e9cd4012          STRD     r4,r0,[sp,#0x48]
000160  940b              STR      r4,[sp,#0x2c]         ;140
000162  940c              STR      r4,[sp,#0x30]         ;141
000164  e9cd4a10          STRD     r4,r10,[sp,#0x40]     ;142
000168  9405              STR      r4,[sp,#0x14]         ;133
00016a  940a              STR      r4,[sp,#0x28]         ;139
;;;147            FSMC_NORSRAMInitStructure.FSMC_WriteBurst = FSMC_WriteBurst_Disable;
;;;148            FSMC_NORSRAMInitStructure.FSMC_ReadWriteTimingStruct = &p;
00016c  a801              ADD      r0,sp,#4
00016e  940f              STR      r4,[sp,#0x3c]         ;142
000170  e9cd4014          STRD     r4,r0,[sp,#0x50]
;;;149            FSMC_NORSRAMInitStructure.FSMC_WriteTimingStruct = &p;
;;;150            FSMC_NORSRAMInitStructure.FSMC_AsynchronousWait = FSMC_AsynchronousWait_Disable;
;;;151    
;;;152            FSMC_NORSRAMInit(&FSMC_NORSRAMInitStructure);
000174  9016              STR      r0,[sp,#0x58]
000176  940d              STR      r4,[sp,#0x34]
000178  a808              ADD      r0,sp,#0x20
00017a  f7fffffe          BL       FSMC_NORSRAMInit
;;;153    
;;;154            /*!< Enable FSMC Bank1_SRAM1 Bank */
;;;155            FSMC_NORSRAMCmd(FSMC_Bank1_NORSRAM1, ENABLE);
00017e  2101              MOVS     r1,#1
000180  2000              MOVS     r0,#0
000182  f7fffffe          BL       FSMC_NORSRAMCmd
                  |L1.390|
;;;156        }
;;;157    }
000186  b019              ADD      sp,sp,#0x64
000188  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.396|
00018c  2020              MOVS     r0,#0x20              ;18
00018e  f7fffffe          BL       RCC_AHB1PeriphClockCmd
000192  f8dfb258          LDR      r11,|L1.1004|
000196  2205              MOVS     r2,#5                 ;22
000198  2103              MOVS     r1,#3                 ;22
00019a  4658              MOV      r0,r11                ;22
00019c  f7fffffe          BL       GPIO_PinAFConfig
0001a0  2205              MOVS     r2,#5                 ;23
0001a2  2104              MOVS     r1,#4                 ;23
0001a4  4658              MOV      r0,r11                ;23
0001a6  f7fffffe          BL       GPIO_PinAFConfig
0001aa  2205              MOVS     r2,#5                 ;24
0001ac  4611              MOV      r1,r2                 ;24
0001ae  4658              MOV      r0,r11                ;24
0001b0  f7fffffe          BL       GPIO_PinAFConfig
0001b4  f88d5061          STRB     r5,[sp,#0x61]         ;27
0001b8  2038              MOVS     r0,#0x38              ;26
0001ba  f88d4062          STRB     r4,[sp,#0x62]         ;28
0001be  9017              STR      r0,[sp,#0x5c]         ;27
0001c0  f88d8063          STRB     r8,[sp,#0x63]         ;29
0001c4  f88d8060          STRB     r8,[sp,#0x60]         ;30
0001c8  a917              ADD      r1,sp,#0x5c           ;31
0001ca  4658              MOV      r0,r11                ;31
0001cc  f7fffffe          BL       GPIO_Init
0001d0  2101              MOVS     r1,#1                 ;33
0001d2  2008              MOVS     r0,#8                 ;33
0001d4  f7fffffe          BL       RCC_AHB1PeriphClockCmd
0001d8  f88d5061          STRB     r5,[sp,#0x61]         ;36
0001dc  f88d4062          STRB     r4,[sp,#0x62]         ;37
0001e0  f88d6063          STRB     r6,[sp,#0x63]         ;38
0001e4  f8cd905c          STR      r9,[sp,#0x5c]         ;36
0001e8  f88d6060          STRB     r6,[sp,#0x60]         ;39
0001ec  a917              ADD      r1,sp,#0x5c           ;40
0001ee  4638              MOV      r0,r7                 ;40
0001f0  f7fffffe          BL       GPIO_Init
0001f4  2180              MOVS     r1,#0x80              ;42
0001f6  4638              MOV      r0,r7                 ;42
0001f8  f7fffffe          BL       GPIO_SetBits
0001fc  2101              MOVS     r1,#1                 ;44
0001fe  4650              MOV      r0,r10                ;44
000200  f7fffffe          BL       RCC_APB2PeriphClockCmd
000204  4d7a              LDR      r5,|L1.1008|
000206  4628              MOV      r0,r5                 ;46
000208  f7fffffe          BL       SPI_I2S_DeInit
00020c  f8ad4048          STRH     r4,[sp,#0x48]         ;47
000210  f44f7082          MOV      r0,#0x104             ;48
000214  f8ad004a          STRH     r0,[sp,#0x4a]         ;48
000218  f8ad4050          STRH     r4,[sp,#0x50]         ;53
00021c  1568              ASRS     r0,r5,#21             ;54
00021e  f8ad0052          STRH     r0,[sp,#0x52]         ;54
000222  2010              MOVS     r0,#0x10              ;55
000224  f8ad0054          STRH     r0,[sp,#0x54]         ;55
000228  2007              MOVS     r0,#7                 ;57
00022a  f8ad404c          STRH     r4,[sp,#0x4c]         ;49
00022e  f8ad0058          STRH     r0,[sp,#0x58]         ;57
000232  f8ad404e          STRH     r4,[sp,#0x4e]         ;51
000236  f8ad4056          STRH     r4,[sp,#0x56]         ;56
00023a  a912              ADD      r1,sp,#0x48           ;58
00023c  4628              MOV      r0,r5                 ;58
00023e  f7fffffe          BL       SPI_Init
000242  2101              MOVS     r1,#1                 ;59
000244  4628              MOV      r0,r5                 ;59
000246  f7fffffe          BL       SPI_Cmd
00024a  e79c              B        |L1.390|
;;;158    
                          ENDP

                  GPIO_Configuration PROC
;;;159    void GPIO_Configuration(void)
00024c  e92d5ffc          PUSH     {r2-r12,lr}
;;;160    {
;;;161        GPIO_InitTypeDef GPIO_InitStructure;
;;;162    
;;;163        /*
;;;164          * USER's LED
;;;165          */
;;;166        RCC_AHB1PeriphClockCmd(
000250  2101              MOVS     r1,#1
000252  203e              MOVS     r0,#0x3e
000254  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;167                                LED0_RCC_AHBPeriph | 
;;;168                                LED1_RCC_AHBPeriph | 
;;;169                                LED2_RCC_AHBPeriph | 
;;;170                                LED3_RCC_AHBPeriph | 
;;;171                                LED4_RCC_AHBPeriph | 
;;;172                                LED5_RCC_AHBPeriph | 
;;;173                                INT_RCC_AHBPeriph    |
;;;174                                SPI_RCC_AHBPeriph,
;;;175                                ENABLE
;;;176                              );
;;;177        
;;;178        RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC | RCC_AHB1Periph_GPIOE | RCC_AHB1Periph_GPIOF | RCC_AHB1Periph_GPIOG,ENABLE);
000258  2101              MOVS     r1,#1
00025a  2074              MOVS     r0,#0x74
00025c  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;179        
;;;180        /* Configure PF6 PF7 PF8 PF9 in output pushpull mode */
;;;181        GPIO_InitStructure.GPIO_Pin   = LED0_Pin;
;;;182        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_OUT;
000260  2501              MOVS     r5,#1
000262  f88d5004          STRB     r5,[sp,#4]
;;;183        GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
000266  2400              MOVS     r4,#0
000268  f88d4006          STRB     r4,[sp,#6]
;;;184        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
00026c  f04f0803          MOV      r8,#3
;;;185        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;
;;;186        GPIO_Init(LED0_Port, &GPIO_InitStructure);
000270  f8df9174          LDR      r9,|L1.1000|
000274  f44f4680          MOV      r6,#0x4000            ;181
000278  f88d8005          STRB     r8,[sp,#5]            ;184
00027c  9600              STR      r6,[sp,#0]            ;182
00027e  f88d5007          STRB     r5,[sp,#7]            ;185
000282  4669              MOV      r1,sp
000284  4648              MOV      r0,r9
000286  f7fffffe          BL       GPIO_Init
;;;187    
;;;188        GPIO_InitStructure.GPIO_Pin   = LED1_Pin;
00028a  03ef              LSLS     r7,r5,#15
;;;189        GPIO_Init(LED1_Port, &GPIO_InitStructure);
00028c  4669              MOV      r1,sp
00028e  4648              MOV      r0,r9
000290  9700              STR      r7,[sp,#0]
000292  f7fffffe          BL       GPIO_Init
;;;190    
;;;191        GPIO_InitStructure.GPIO_Pin   = LED2_Pin;
;;;192        GPIO_Init(LED2_Port, &GPIO_InitStructure);
000296  f8dfb14c          LDR      r11,|L1.996|
00029a  f44f7900          MOV      r9,#0x200             ;191
00029e  4669              MOV      r1,sp
0002a0  4658              MOV      r0,r11
0002a2  f8cd9000          STR      r9,[sp,#0]
0002a6  f7fffffe          BL       GPIO_Init
;;;193    
;;;194        GPIO_InitStructure.GPIO_Pin   = LED3_Pin;
0002aa  f44f6a80          MOV      r10,#0x400
;;;195        GPIO_Init(LED3_Port, &GPIO_InitStructure);
0002ae  4669              MOV      r1,sp
0002b0  4658              MOV      r0,r11
0002b2  f8cda000          STR      r10,[sp,#0]
0002b6  f7fffffe          BL       GPIO_Init
;;;196    
;;;197        GPIO_InitStructure.GPIO_Pin   = LED4_Pin;
;;;198        GPIO_Init(LED4_Port, &GPIO_InitStructure);
0002ba  9700              STR      r7,[sp,#0]
0002bc  4f4b              LDR      r7,|L1.1004|
0002be  4669              MOV      r1,sp
0002c0  4638              MOV      r0,r7
0002c2  f7fffffe          BL       GPIO_Init
;;;199    
;;;200        GPIO_InitStructure.GPIO_Pin   = LED5_Pin;
;;;201        GPIO_Init(LED5_Port, &GPIO_InitStructure);
0002c6  4669              MOV      r1,sp
0002c8  4638              MOV      r0,r7
0002ca  9600              STR      r6,[sp,#0]
0002cc  f7fffffe          BL       GPIO_Init
;;;202        
;;;203        /*MCO2 ¼³Á¤*/
;;;204        GPIO_InitStructure.GPIO_Pin   = GPIO_Pin_9;
;;;205        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_AF;
0002d0  2702              MOVS     r7,#2
;;;206        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
;;;207        GPIO_Init(GPIOC, &GPIO_InitStructure);
0002d2  f8dfb120          LDR      r11,|L1.1012|
0002d6  f88d7004          STRB     r7,[sp,#4]            ;205
0002da  f8cd9000          STR      r9,[sp,#0]            ;205
0002de  f88d8005          STRB     r8,[sp,#5]            ;206
0002e2  4669              MOV      r1,sp
0002e4  4658              MOV      r0,r11
0002e6  f7fffffe          BL       GPIO_Init
;;;208        
;;;209        GPIO_PinAFConfig(GPIOC, GPIO_PinSource9, GPIO_AF_MCO);
0002ea  2200              MOVS     r2,#0
0002ec  2109              MOVS     r1,#9
0002ee  4658              MOV      r0,r11
0002f0  f7fffffe          BL       GPIO_PinAFConfig
;;;210        
;;;211        RCC_MCO2Config(RCC_MCO2Source_SYSCLK,RCC_MCO2Div_1);
0002f4  2100              MOVS     r1,#0
0002f6  4608              MOV      r0,r1
0002f8  f7fffffe          BL       RCC_MCO2Config
;;;212        
;;;213        /*
;;;214        #define RCC_MCO2Source_SYSCLK            ((uint32_t)0x00000000)
;;;215        #define RCC_MCO2Source_PLLI2SCLK         ((uint32_t)0x40000000)
;;;216        #define RCC_MCO2Source_HSE               ((uint32_t)0x80000000)
;;;217        #define RCC_MCO2Source_PLLCLK            ((uint32_t)0xC0000000)
;;;218        */
;;;219        
;;;220        GPIO_InitStructure.GPIO_Pin   = INT_Pin;
;;;221        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_IN;
0002fc  f88d4004          STRB     r4,[sp,#4]
;;;222        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
000300  f88d8005          STRB     r8,[sp,#5]
000304  9600              STR      r6,[sp,#0]            ;221
;;;223        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
000306  f88d4007          STRB     r4,[sp,#7]
;;;224        GPIO_Init(INT_Port, &GPIO_InitStructure);
00030a  4669              MOV      r1,sp
00030c  4658              MOV      r0,r11
00030e  f7fffffe          BL       GPIO_Init
;;;225    
;;;226        /*
;;;227        *  Open_USART_TX -> PA9 , Open_USART_RX -PA10
;;;228        */
;;;229        RCC_AHB1PeriphClockCmd(Open_USART_TX_GPIO_CLK,ENABLE);
000312  2101              MOVS     r1,#1
000314  4608              MOV      r0,r1
000316  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;230        RCC_AHB1PeriphClockCmd(Open_USART_RX_GPIO_CLK,ENABLE);
00031a  2101              MOVS     r1,#1
00031c  4608              MOV      r0,r1
00031e  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;231        RCC_APB2PeriphClockCmd(Open_USART_CLK,ENABLE);
000322  2101              MOVS     r1,#1
000324  2010              MOVS     r0,#0x10
000326  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;232    
;;;233        GPIO_PinAFConfig(Open_USART_TX_GPIO_PORT, Open_USART_TX_SOURCE, Open_USART_TX_AF);
00032a  4e33              LDR      r6,|L1.1016|
00032c  2207              MOVS     r2,#7
00032e  2109              MOVS     r1,#9
000330  4630              MOV      r0,r6
000332  f7fffffe          BL       GPIO_PinAFConfig
;;;234        GPIO_PinAFConfig(Open_USART_RX_GPIO_PORT, Open_USART_RX_SOURCE, Open_USART_RX_AF);
000336  2207              MOVS     r2,#7
000338  210a              MOVS     r1,#0xa
00033a  4630              MOV      r0,r6
00033c  f7fffffe          BL       GPIO_PinAFConfig
;;;235    
;;;236        GPIO_InitStructure.GPIO_Pin   = Open_USART_TX_PIN;
;;;237        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_AF;
000340  f88d7004          STRB     r7,[sp,#4]
;;;238        GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
000344  f88d4006          STRB     r4,[sp,#6]
;;;239    
;;;240        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
000348  f88d7005          STRB     r7,[sp,#5]
00034c  f8cd9000          STR      r9,[sp,#0]            ;237
;;;241        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;
000350  f88d5007          STRB     r5,[sp,#7]
;;;242        GPIO_Init(Open_USART_TX_GPIO_PORT, &GPIO_InitStructure);
000354  4669              MOV      r1,sp
000356  4630              MOV      r0,r6
000358  f7fffffe          BL       GPIO_Init
;;;243    
;;;244        GPIO_InitStructure.GPIO_Pin   = Open_USART_RX_PIN;
;;;245        GPIO_InitStructure.GPIO_OType = GPIO_OType_OD;
00035c  f88d5006          STRB     r5,[sp,#6]
000360  f8cda000          STR      r10,[sp,#0]
;;;246        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
000364  f88d4007          STRB     r4,[sp,#7]
;;;247        GPIO_Init(Open_USART_RX_GPIO_PORT, &GPIO_InitStructure);
000368  4669              MOV      r1,sp
00036a  4630              MOV      r0,r6
00036c  f7fffffe          BL       GPIO_Init
;;;248    }
000370  e8bd9ffc          POP      {r2-r12,pc}
;;;249    
                          ENDP

                  EXTI_Configuration PROC
;;;250    void EXTI_Configuration(void)
000374  b530              PUSH     {r4,r5,lr}
;;;251    {
000376  b085              SUB      sp,sp,#0x14
;;;252        GPIO_InitTypeDef GPIO_InitStructure;
;;;253        EXTI_InitTypeDef EXTI_InitStructure;
;;;254        NVIC_InitTypeDef NVIC_InitStructure;
;;;255        
;;;256        RCC_AHB1PeriphClockCmd(INT_RCC_AHBPeriph, ENABLE);
000378  2101              MOVS     r1,#1
00037a  2004              MOVS     r0,#4
00037c  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;257        RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG, ENABLE);
000380  2101              MOVS     r1,#1
000382  038d              LSLS     r5,r1,#14
000384  4628              MOV      r0,r5
000386  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;258        GPIO_InitStructure.GPIO_Pin   = INT_Pin;
;;;259        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_IN;
00038a  2400              MOVS     r4,#0
00038c  f88d4010          STRB     r4,[sp,#0x10]
000390  9503              STR      r5,[sp,#0xc]
;;;260        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
000392  f88d4013          STRB     r4,[sp,#0x13]
;;;261        GPIO_Init(INT_Port, &GPIO_InitStructure);
000396  a903              ADD      r1,sp,#0xc
000398  4816              LDR      r0,|L1.1012|
00039a  f7fffffe          BL       GPIO_Init
;;;262        
;;;263        SYSCFG_EXTILineConfig(EXTI_PortSourceGPIOC, EXTI_PinSource14);
00039e  210e              MOVS     r1,#0xe
0003a0  2002              MOVS     r0,#2
0003a2  f7fffffe          BL       SYSCFG_EXTILineConfig
;;;264        
;;;265        EXTI_InitStructure.EXTI_Line   = EXTI_Line14;
;;;266        EXTI_InitStructure.EXTI_Mode  = EXTI_Mode_Interrupt;
0003a6  f88d4004          STRB     r4,[sp,#4]
;;;267    	  //EXTI_InitStructure.EXTI_Mode  = EXTI_Mode_Event;
;;;268        EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;
0003aa  200c              MOVS     r0,#0xc
0003ac  f88d0005          STRB     r0,[sp,#5]
;;;269        EXTI_InitStructure.EXTI_LineCmd = ENABLE;
0003b0  2401              MOVS     r4,#1
0003b2  9500              STR      r5,[sp,#0]            ;266
0003b4  f88d4006          STRB     r4,[sp,#6]
;;;270        EXTI_Init(&EXTI_InitStructure); 
0003b8  4668              MOV      r0,sp
0003ba  f7fffffe          BL       EXTI_Init
;;;271    
;;;272        /* Enable the USARTx Interrupt */
;;;273        NVIC_InitStructure.NVIC_IRQChannel                   = Open_EXTI_IRQn;
0003be  2028              MOVS     r0,#0x28
0003c0  f88d0008          STRB     r0,[sp,#8]
;;;274        NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x0F;
0003c4  200f              MOVS     r0,#0xf
0003c6  f88d0009          STRB     r0,[sp,#9]
;;;275        NVIC_InitStructure.NVIC_IRQChannelSubPriority        = 0x0F;
0003ca  f88d000a          STRB     r0,[sp,#0xa]
;;;276        NVIC_InitStructure.NVIC_IRQChannelCmd                = ENABLE;
0003ce  f88d400b          STRB     r4,[sp,#0xb]
;;;277        NVIC_Init(&NVIC_InitStructure);    
0003d2  a802              ADD      r0,sp,#8
0003d4  f7fffffe          BL       NVIC_Init
;;;278    }
0003d8  b005              ADD      sp,sp,#0x14
0003da  bd30              POP      {r4,r5,pc}
                  |L1.988|
                          DCD      ||.data||
                  |L1.992|
                          DCD      0x40021400
                  |L1.996|
                          DCD      0x40020c00
                  |L1.1000|
                          DCD      0x40021000
                  |L1.1004|
                          DCD      0x40020400
                  |L1.1008|
                          DCD      0x40013000
                  |L1.1012|
                          DCD      0x40020800
                  |L1.1016|
                          DCD      0x40020000
                          ENDP

                  NVIC_Configuration PROC
;;;280    
;;;281    void NVIC_Configuration(void)
0003fc  b508              PUSH     {r3,lr}
;;;282    {
;;;283      NVIC_InitTypeDef NVIC_InitStructure;
;;;284    
;;;285      /* Enable the USARTx Interrupt */
;;;286      NVIC_InitStructure.NVIC_IRQChannel                   = Open_USART_IRQn|Open_EXTI_IRQn;
0003fe  202d              MOVS     r0,#0x2d
000400  f88d0000          STRB     r0,[sp,#0]
;;;287      NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
000404  2000              MOVS     r0,#0
000406  f88d0001          STRB     r0,[sp,#1]
;;;288      NVIC_InitStructure.NVIC_IRQChannelSubPriority        = 0;
00040a  f88d0002          STRB     r0,[sp,#2]
;;;289      NVIC_InitStructure.NVIC_IRQChannelCmd                = ENABLE;
00040e  2001              MOVS     r0,#1
000410  f88d0003          STRB     r0,[sp,#3]
;;;290      NVIC_Init(&NVIC_InitStructure);
000414  4668              MOV      r0,sp
000416  f7fffffe          BL       NVIC_Init
;;;291    }
00041a  bd08              POP      {r3,pc}
;;;292    
                          ENDP

                  Delay_Tick PROC
;;;297      */
;;;298    void Delay_Tick(__IO uint32_t nTime)
00041c  b501              PUSH     {r0,lr}
;;;299    {
;;;300      TimingDelay = nTime;
00041e  4839              LDR      r0,|L1.1284|
000420  9900              LDR      r1,[sp,#0]
000422  6041              STR      r1,[r0,#4]  ; TimingDelay
                  |L1.1060|
;;;301      while(TimingDelay != 0);
000424  6841              LDR      r1,[r0,#4]  ; TimingDelay
000426  2900              CMP      r1,#0
000428  d1fc              BNE      |L1.1060|
;;;302    }
00042a  bd08              POP      {r3,pc}
;;;303    
                          ENDP

                  TimingDelay_Decrement PROC
;;;308      */
;;;309    void TimingDelay_Decrement(void)
00042c  4835              LDR      r0,|L1.1284|
;;;310    {
;;;311      if (TimingDelay != 0x00)
00042e  6841              LDR      r1,[r0,#4]  ; TimingDelay
000430  2900              CMP      r1,#0                 ;310
000432  d002              BEQ      |L1.1082|
;;;312      { 
;;;313        TimingDelay--;
000434  6841              LDR      r1,[r0,#4]  ; TimingDelay
000436  1e49              SUBS     r1,r1,#1
000438  6041              STR      r1,[r0,#4]  ; TimingDelay
                  |L1.1082|
;;;314      }
;;;315    }
00043a  4770              BX       lr
;;;316    
                          ENDP

                  SetSysTick_config PROC
;;;343       */
;;;344    void SetSysTick_config(uint32_t div)
00043c  4932              LDR      r1,|L1.1288|
;;;345    {
;;;346      if (SysTick_Config(SystemCoreClock / div))
00043e  6809              LDR      r1,[r1,#0]  ; SystemCoreClock
000440  fbb1f0f0          UDIV     r0,r1,r0
000444  f1b07f80          CMP      r0,#0x1000000
000448  d20e              BCS      |L1.1128|
00044a  f020417f          BIC      r1,r0,#0xff000000     ;345
00044e  f04f20e0          MOV      r0,#0xe000e000        ;345
000452  1e49              SUBS     r1,r1,#1              ;345
000454  6141              STR      r1,[r0,#0x14]         ;345
000456  4a2d              LDR      r2,|L1.1292|
000458  21f0              MOVS     r1,#0xf0              ;345
00045a  f8821d14          STRB     r1,[r2,#0xd14]        ;345
00045e  2100              MOVS     r1,#0                 ;345
000460  6181              STR      r1,[r0,#0x18]         ;345
000462  2107              MOVS     r1,#7                 ;345
000464  6101              STR      r1,[r0,#0x10]         ;345
;;;347      { 
;;;348        /* Capture error */ 
;;;349        while (1);
;;;350      }
;;;351    }
000466  4770              BX       lr
                  |L1.1128|
000468  e7fe              B        |L1.1128|
;;;352    
                          ENDP

                  time_return PROC
;;;354    
;;;355    uint32_t time_return(void) 
00046a  4826              LDR      r0,|L1.1284|
;;;356    {
;;;357      return my_time;
00046c  6800              LDR      r0,[r0,#0]  ; my_time
;;;358    }
00046e  4770              BX       lr
;;;359    
                          ENDP

                  Get_Tcik PROC
;;;360    __IO uint32_t Tick_Counter;
;;;361    void Get_Tcik(void)
000470  4924              LDR      r1,|L1.1284|
;;;362    {
;;;363        if (Tick_Counter++ > 1000) { // 0.9m
000472  6888              LDR      r0,[r1,#8]  ; Tick_Counter
000474  1c42              ADDS     r2,r0,#1
000476  608a              STR      r2,[r1,#8]  ; Tick_Counter
000478  f5b07f7a          CMP      r0,#0x3e8
00047c  d904              BLS      |L1.1160|
;;;364        Tick_Counter = 0;
00047e  2000              MOVS     r0,#0
000480  6088              STR      r0,[r1,#8]  ; Tick_Counter
;;;365        my_time++;
000482  6808              LDR      r0,[r1,#0]  ; my_time
000484  1c40              ADDS     r0,r0,#1
000486  6008              STR      r0,[r1,#0]  ; my_time
                  |L1.1160|
;;;366      }
;;;367    }
000488  4770              BX       lr
;;;368    
                          ENDP

                  Set_SPI_Mode PROC
;;;375    
;;;376    void Set_SPI_Mode()
00048a  b51c              PUSH     {r2-r4,lr}
;;;377    {
;;;378        GPIO_InitTypeDef GPIO_InitStructure;
;;;379    
;;;380        RCC_AHB1PeriphClockCmd(SPI_RCC_AHBPeriph,ENABLE);
00048c  2101              MOVS     r1,#1
00048e  2020              MOVS     r0,#0x20
000490  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;381    
;;;382        GPIO_InitStructure.GPIO_Pin   = SPI_ENABLE_Pin;
000494  f44f4080          MOV      r0,#0x4000
;;;383        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_OUT;
000498  9000              STR      r0,[sp,#0]
00049a  2001              MOVS     r0,#1
00049c  f88d0004          STRB     r0,[sp,#4]
;;;384        GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
0004a0  2000              MOVS     r0,#0
0004a2  f88d0006          STRB     r0,[sp,#6]
;;;385        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
0004a6  2003              MOVS     r0,#3
0004a8  f88d0005          STRB     r0,[sp,#5]
;;;386        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_DOWN;
0004ac  2002              MOVS     r0,#2
;;;387        GPIO_Init(GPIOF, &GPIO_InitStructure);
0004ae  4c18              LDR      r4,|L1.1296|
0004b0  f88d0007          STRB     r0,[sp,#7]            ;386
0004b4  4669              MOV      r1,sp
0004b6  4620              MOV      r0,r4
0004b8  f7fffffe          BL       GPIO_Init
;;;388        
;;;389        //GPIO_SetBits(SPI_ENABLE_Port, GPIO_InitStructure.GPIO_Pin);       // If PF14 is high, it will be spi mode
;;;390        GPIO_ResetBits(SPI_ENABLE_Port, GPIO_InitStructure.GPIO_Pin);
0004bc  9900              LDR      r1,[sp,#0]
0004be  4620              MOV      r0,r4
0004c0  b289              UXTH     r1,r1
0004c2  f7fffffe          BL       GPIO_ResetBits
;;;391    }
0004c6  bd1c              POP      {r2-r4,pc}
;;;392    
                          ENDP

                  Set_Indirect_Mode PROC
;;;393    void Set_Indirect_Mode()
0004c8  b51c              PUSH     {r2-r4,lr}
;;;394    {
;;;395        GPIO_InitTypeDef GPIO_InitStructure;
;;;396    
;;;397        RCC_AHB1PeriphClockCmd(SPI_RCC_AHBPeriph,ENABLE);
0004ca  2101              MOVS     r1,#1
0004cc  2020              MOVS     r0,#0x20
0004ce  f7fffffe          BL       RCC_AHB1PeriphClockCmd
;;;398    
;;;399        GPIO_InitStructure.GPIO_Pin   = SPI_ENABLE_Pin;
0004d2  f44f4080          MOV      r0,#0x4000
;;;400        GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_OUT;
0004d6  9000              STR      r0,[sp,#0]
0004d8  2001              MOVS     r0,#1
0004da  f88d0004          STRB     r0,[sp,#4]
;;;401        GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
0004de  2100              MOVS     r1,#0
0004e0  f88d1006          STRB     r1,[sp,#6]
;;;402        GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
0004e4  2103              MOVS     r1,#3
0004e6  f88d1005          STRB     r1,[sp,#5]
;;;403        GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;
;;;404        GPIO_Init(GPIOF, &GPIO_InitStructure);
0004ea  4c09              LDR      r4,|L1.1296|
0004ec  f88d0007          STRB     r0,[sp,#7]            ;403
0004f0  4669              MOV      r1,sp
0004f2  4620              MOV      r0,r4
0004f4  f7fffffe          BL       GPIO_Init
;;;405        
;;;406    	GPIO_SetBits(SPI_ENABLE_Port, GPIO_InitStructure.GPIO_Pin);
0004f8  9900              LDR      r1,[sp,#0]
0004fa  4620              MOV      r0,r4
0004fc  b289              UXTH     r1,r1
0004fe  f7fffffe          BL       GPIO_SetBits
;;;407        //GPIO_ResetBits(SPI_ENABLE_Port, GPIO_InitStructure.GPIO_Pin);       // If PF14 is low, it will be indirect mode
;;;408    }
000502  bd1c              POP      {r2-r4,pc}
;;;409    
                          ENDP

                  |L1.1284|
                          DCD      ||.data||
                  |L1.1288|
                          DCD      SystemCoreClock
                  |L1.1292|
                          DCD      0xe000e00f
                  |L1.1296|
                          DCD      0x40021400

                          AREA ||.data||, DATA, ALIGN=2

                  my_time
                          DCD      0x00000000
                  TimingDelay
                          DCD      0x00000000
                  Tick_Counter
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "halConfiguration.c"
	AREA ||.emb_text||, CODE
	THUMB
	EXPORT |__asm___18_halConfiguration_c_b21e8124____REV16|
#line 114 "..\\..\\Libraries\\CMSIS\\Include\\core_cmInstr.h"
|__asm___18_halConfiguration_c_b21e8124____REV16| PROC
#line 115

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.emb_text||, CODE
	THUMB
	EXPORT |__asm___18_halConfiguration_c_b21e8124____REVSH|
#line 128
|__asm___18_halConfiguration_c_b21e8124____REVSH| PROC
#line 129

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
